# Analysis of SpaceControls and Translation to HighwayControls

## Key Elements in SpaceControls

1. **Initialization**:
   - `SpaceControls` initializes components like `SpaceSky`, `Sun`, `Planets`, and `ShootingStars`.
   - It uses `argsOBJ` to set up references for mouse position, ball position, chaos, and callbacks.

2. **Update Logic**:
   - Updates all planets' positions and calculates chaos as the average normalized X position of the planets.
   - Determines the active planet based on the `fac` value of the ball.
   - Updates the ball's X and Y positions based on the active planet's normalized coordinates.

3. **Draw Logic**:
   - Draws the sky, shooting stars, sun, and planets in sequence.

4. **Resize Logic**:
   - Adjusts the sun's position and planets' scaling when the canvas is resized.

## Translation to HighwayControls

1. **Initialization**:
   - `HighwayControls` will initialize components like `Car`, `Hills`, `Sky`, and `Highway`.
   - Use `argsOBJ` to set up references for mouse position, ball position, chaos, and callbacks.

2. **Update Logic**:
   - Update the car's position based on the current hill height and a constant oscilation left and right
   - Calculate chaos as a derivative of the hills' average height, influenced by the ball's `fac` value.
   - Update the ball's X and Y positions based on the car's position relative to the highway and hills. calling onUpdateBallX and Y, and setting the ballRef's x and y from the simulated car object

3. **Draw Logic**:
   - Draw the sky, hills, highway, and car in sequence.
   -In components, draw complicated ones by prerendering in an offscreen canvas

4. **Resize Logic**:
   - Adjust the highway's dimensions and hills' scaling when the canvas is resized.
   using normalized values for all positions makes this easier

## Implementation Plan

1. **Update Method**:
   - Calculate chaos as the average height of the x and y values 
   - Update the ball based on the CAR
   - Call the appropriate callbacks to update the ball's position and chaos value.

2. **Draw Method**:
   - Draw the sky first, followed by the hills, highway, and car.

3. **Resize Method**:
   - Adjust the dimensions of all components to fit the new canvas size. - normalized

By mirroring the logic in `SpaceControls`, `HighwayControls` will achieve a similar level of interactivity and visual expressiveness, tailored to the vaporwave highway theme.